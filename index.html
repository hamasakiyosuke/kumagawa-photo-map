<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kumagawa Photo Map (Test)</title>
  <style>
    body { font-family: system-ui, -apple-system, sans-serif; margin: 12px; }
    #top { display: flex; gap: 8px; flex-wrap: wrap; align-items: center; }
    #map { width: 100%; height: 70vh; margin-top: 10px; border: 1px solid #ddd; border-radius: 8px; }
    #nogps { margin-top: 10px; padding: 10px; border: 1px solid #eee; border-radius: 8px; }
    .small { color: #666; font-size: 12px; }
    button { padding: 8px 12px; }
    code { background: #f6f6f6; padding: 2px 4px; border-radius: 4px; }
  </style>

  <!-- ① Googleログイン用（Google Identity Services） -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>

  <!-- ② Google API クライアント（Drive API を呼ぶため） -->
  <script src="https://apis.google.com/js/api.js"></script>
</head>
<body>
  <h2>球磨川流域 写真→地図ピン（テスト）</h2>

  <div id="top">
    <button id="signin" disabled>① Googleにログイン</button>
    <button id="load" disabled>② フォルダを読み込み→地図に表示</button>
    <span class="small">※最初はテスト用。うまく動いたら本格アプリにします。</span>
  </div>

  <div id="map"></div>

  <div id="nogps">
    <b>GPSなし写真（地図に出せない）</b>
    <div id="nogpsList" class="small">まだありません</div>
  </div>

  <!-- ③ Google Maps（地図表示） -->
  <script>
    // ここに Maps APIキー（A）を入れます
    const MAPS_API_KEY = "AIzaSyASdDNTrxCsqkw9W9vG3WnwZvRkbiyHTRc";

    // ここは Google Maps の読み込み（自動）
    const s = document.createElement("script");
    s.src = `https://maps.googleapis.com/maps/api/js?key=${MAPS_API_KEY}&callback=initMap`;
    s.async = true;
    s.defer = true;
    document.head.appendChild(s);
  </script>

  <script src="./app.js"></script>
</body>
</html>
